# Ch.1 - 도메인 모델 시작하기

## 1.1 도메인이란?

- 소프트웨어로 해결하고자 하는 문제 영역이 도메인이다.  
- 한 도메인은 여러 개의 하위 도메인으로 나뉠 수 있다.
- 모든 도메인을 직접 구축하지 않고, 외부 업체의 시스템을 사용할 수 있다.
- 가령 온라인으로 책을 판매한다면 상품, 구매, 주문, 결제 ... 등의 도메인이 필요하다.
    - 가령 결제의 경우 PG사를 거친다.

## 1.2 도메인 전문가와 개발자 간 지식 공유

- 각 도메인에는 도메인 전문가가 존재한다. (홍보 도메인, 배송 도메인, ...)
- 도메인 전문가는 개발자에게 자신들이 원하는 기능을 요구한다.
- 개발자는 요구사항을 분석하고 / 설계하고 / 코드를 작성하고 / 테스트하고 / 배포한다.
- 이때, 요구사항을 올바르게 이해하는 것이 아주 중요하다! 하지만 어떻게?
    - 개발자와 전문가가 면대면으로 소통하는 것이 제일 좋다.
- 개발자도 도메인 전문가만큼은 아니더라도 도메인 지식을 갖춰야 한다.

### 노트



## 1.3 도메인 모델

- 도메인 모델은 도메인을 개념적으로 나타낸 것이다.
- 도메인 모델을 나타낼 때 다양한 표현 방식을 사용할 수 있다.
    - 클래스 다이어그램, 상태 다이어그램...
- 도메인 모델은 '도메인을 모델링하여 쉽게 이해하기 위한 방식'이므로 여기에 맞춰주기만 하면 된다.
- 동일한 대상이 각각의 하위 도메인에서는 다르게 해석될 수 있다.
    - 가령 카탈로그의 '상품'은 판매를 위한 정보 데이터지만, 배송의 '상품'은 실제 물리적 대상을 의미한다.
    - 따라서 하위 도메인마다 따로 모델을 만들어주자.

## 1.4 도메인 모델 패턴

- 마틴 파울러의 책에서는 애플리케이션 아키텍처를 다음 네 개의 레이어로 정의한다.
    - 표현(Presentation) 레이어
    - 응용(Application) 레이어
    - 도메인(Domain) 레이어
    - 인프라스트럭처(Infrastructure) 레이어
- 섹션 1.3에서 말했던 도메인 모델은 '도메인을 이해하기 위해 모델링하여 표현한 것'이라면, 도메인 모델 패턴은 '위의 도메인 레이어를 객체지향적으로 구현하는 패턴'이다. (같은 용어를 쓰지만 다른 개념이다)
- 도메인 레이어에서는 도메인의 핵심 규칙을 구현한다.
    - 가령 '배송 이전에만 주문 취소가 가능하다' 라는 규칙을 구현하려면...
    - `OrderState`가 `isShippingChangeable()`을 구현하도록 할 수도 있지만
    - `Order`가 `isShippingChangeable()`을 구현하도록 할 수도 있다.
    - 개인적으로는 