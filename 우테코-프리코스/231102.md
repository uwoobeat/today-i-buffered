## 로또

이번에는 진짜로 게임매니저가 컨트롤을 쥐어야 하는 요구사항이다.
근데 저번에도 말했지만 그렇게 하기 싫다. 게임 매니저가 게임의 로직을 알게 되면 게임의 자율성을 침해하는 것 같다.

근데 그렇다고 게임 중간 단계의 인터페이스를 꽉 막아두면 그것도 그것대로 별로다. 이번에는 꼼수를 써서 모든 경기를 스냅샷으로 공구리치고 히스토리에다가 때려박은 다음에 결과에 리턴하게 했다. 다 좋은데 테스트가 진짜 구림. 사실상 단위 테스트는 불가능하고 인수 테스트 같은 느낌만 가능하다. 게임 플레이를 시키고 모종의 방법으로 외부에 알려주지 않으면 그 중간단계를 테스트할 수 있는 방법이 아예 없다...

저번에 회고에서 언급했던 것처럼 일종의 공유 공간을 만들고 게임은 거기로 메세지를 던진 다음 게임 매니저는 거기서 메세지를 읽는 방식이 나아보인다. 그러려면 게임 매니저가 그 공간을 뺑이치면서 읽어오거나 아니면 게임이 메세지를 넣을 때 게임 매니저한테 알림을 주는 식으로 구현이 가능할듯.